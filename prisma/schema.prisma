generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

enum Grades {
  SECUNDARIA
  BACHILLERATO
  PREPARATORIA
  LIC_ING
  ESPECIALIDAD
  DIPLOMADO
  MAESTRIA
  DOCTORADO
  NO_ESPECIFICA
}

model User {
  id              String   @id @default(uuid())
  name            String
  paternalSurname String
  maternalSurname String?
  email           String
  password        String
  accessToken     String?  @db.Text
  available       Boolean  @default(true)
  createAt        DateTime @default(now())
  updateAt        DateTime @updatedAt

  additionalInfo AdditionalInfo?
  roles          UsersRoles[]
  Leads          Leads[]
}

model AdditionalInfo {
  id        String @id @default(uuid())
  telephone String
  user      User   @relation(fields: [userId], references: [id])
  userId    String @unique
}

model Roles {
  id         Int          @id @default(autoincrement())
  name       String
  available  Boolean      @default(true)
  createAt   DateTime     @default(now())
  updateAt   DateTime     @updatedAt
  UsersRoles UsersRoles[]
}

model UsersRoles {
  user   User   @relation(fields: [userId], references: [id])
  userId String
  role   Roles  @relation(fields: [roleId], references: [id])
  roleId Int

  @@id([userId, roleId])
}

model Phones {
  id        String   @id @default(uuid())
  telephone String
  available Boolean  @default(true)
  leadId    String
  createAt  DateTime @default(now())
  updateAt  DateTime @updatedAt
  lead      Leads    @relation(fields: [leadId], references: [id])
}

model Emails {
  id        String   @id @default(uuid())
  email     String
  leadId    String
  available Boolean  @default(true)
  createAt  DateTime @default(now())
  updateAt  DateTime @updatedAt
  lead      Leads    @relation(fields: [leadId], references: [id])
}

enum Genres {
  FEMALE
  MALE
}

enum SchoolTypes {
  PRIVADA
  PUBLICA
}

enum EnrollmentStatus {
  INS
  INSO
  REZA
}

model InformationLead {
  id               String            @id @default(uuid())
  name             String?
  genre            Genres?
  careerInterest   String?
  formerSchool     String?
  typeSchool       SchoolTypes?
  enrollmentStatus EnrollmentStatus?
  followUpId       String?
  available        Boolean?          @default(true)
  createAt         DateTime?         @default(now())
  updateAt         DateTime?         @updatedAt
  followUp         FollowUp?         @relation(fields: [followUpId], references: [id])
  Lead             Leads?
}

model FollowUp {
  id              String            @id @default(uuid())
  name            String
  available       Boolean           @default(true)
  createAt        DateTime          @default(now())
  updateAt        DateTime          @updatedAt
  InformationLead InformationLead[]
}

model CampaignsTypes {
  id        String      @id @default(uuid())
  name      String
  available Boolean     @default(true)
  createAt  DateTime    @default(now())
  updateAt  DateTime    @updatedAt
  Campaigns Campaigns[]
}

model Campaigns {
  id             String         @id @default(uuid())
  name           String
  campaignTypeId String
  available      Boolean        @default(true)
  createAt       DateTime       @default(now())
  updateAt       DateTime       @updatedAt
  campaignType   CampaignsTypes @relation(fields: [campaignTypeId], references: [id])
  Leads          Leads[]
}

model ContactTypes {
  id        String     @id @default(uuid())
  name      String
  available Boolean    @default(true)
  createAt  DateTime   @default(now())
  updateAt  DateTime   @updatedAt
  asetName  asetName[]
}

model asetName {
  id             String       @id @default(uuid())
  name           String
  contactTypesId String
  contactType    ContactTypes @relation(fields: [contactTypesId], references: [id])
  available      Boolean      @default(true)
  createAt       DateTime     @default(now())
  updateAt       DateTime     @updatedAt
  Leads          Leads[]
}

model Cities {
  id        String   @id @default(uuid())
  name      String
  available Boolean  @default(true)
  createAt  DateTime @default(now())
  updateAt  DateTime @updatedAt
  state     States   @relation(fields: [stateId], references: [id])
  stateId   String
  Leads     Leads[]
}

model States {
  id        String    @id @default(uuid())
  name      String
  available Boolean   @default(true)
  createAt  DateTime  @default(now())
  updateAt  DateTime  @updatedAt
  country   Countries @relation(fields: [countryId], references: [id])
  countryId String
  Cities    Cities[]
}

model Countries {
  id        String   @id @default(uuid())
  name      String
  available Boolean  @default(true)
  createAt  DateTime @default(now())
  updateAt  DateTime @updatedAt
  States    States[]
}

enum ReferenceTypes {
  ALUMNO
  PERSONAL_UNINTER
  FAMILIAR_ALUMNO
}

model References {
  id         String          @id @default(uuid())
  type       ReferenceTypes?
  name       String?
  dataSource String?
  available  Boolean         @default(true)
  createAt   DateTime        @default(now())
  updateAt   DateTime        @updatedAt
  lead       Leads?
  leadsId    String?
}

model Leads {
  id          String    @id @default(uuid())
  grade       Grades?
  dateContact DateTime?
  asetNameId  String?
  referenceId String?   @unique
  campaignId  String?
  cityId      String?
  infoLeadId  String?   @unique
  userId      String?
  available   Boolean   @default(true)
  createAt    DateTime  @default(now())
  updateAt    DateTime  @updatedAt

  information InformationLead? @relation(fields: [infoLeadId], references: [id])
  campaign    Campaigns?       @relation(fields: [campaignId], references: [id])
  asetName    asetName?        @relation(fields: [asetNameId], references: [id])
  reference   References?      @relation(fields: [referenceId], references: [id])
  city        Cities?          @relation(fields: [cityId], references: [id])
  user        User?            @relation(fields: [userId], references: [id])
  emails      Emails[]
  phones      Phones[]
}

model Careers {
  id        String   @id @default(uuid())
  program   String
  available Boolean  @default(true)
  createAt  DateTime @default(now())
  updateAt  DateTime @updatedAt
}
